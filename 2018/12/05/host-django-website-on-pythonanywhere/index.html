<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Courier New:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.4.2',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Have you ever wondered how to set up your Django app on a real website? This blog shows you how to easily host a Django web app on PythongAnywhere for free.">
<meta name="keywords" content="front end,web,django">
<meta property="og:type" content="article">
<meta property="og:title" content="Host Django website on PythonAnywhere">
<meta property="og:url" content="http://bolunzhang.me/2018/12/05/host-django-website-on-pythonanywhere/index.html">
<meta property="og:site_name" content="blog">
<meta property="og:description" content="Have you ever wondered how to set up your Django app on a real website? This blog shows you how to easily host a Django web app on PythongAnywhere for free.">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://bolunzhang.me/assets/pythonanywhere-default.JPG">
<meta property="og:image" content="http://bolunzhang.me/assets/django-default.png">
<meta property="og:updated_time" content="2019-03-22T19:56:52.523Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Host Django website on PythonAnywhere">
<meta name="twitter:description" content="Have you ever wondered how to set up your Django app on a real website? This blog shows you how to easily host a Django web app on PythongAnywhere for free.">
<meta name="twitter:image" content="http://bolunzhang.me/assets/pythonanywhere-default.JPG">






  <link rel="canonical" href="http://bolunzhang.me/2018/12/05/host-django-website-on-pythonanywhere/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Host Django website on PythonAnywhere | blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-projects">
    <a href="/categories/projects/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-coffee"></i> <br>Projects</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th-large"></i> <br>Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bolunzhang.me/2018/12/05/host-django-website-on-pythonanywhere/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bolun Zhang">
      <meta itemprop="description" content="Life is like a box of chalk - most time it is colorful, sometimes it leaves you black and blue.">
      <meta itemprop="image" content="/assets/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Host Django website on PythonAnywhere
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-05 21:36:04" itemprop="dateCreated datePublished" datetime="2018-12-05T21:36:04-05:00">2018-12-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-22 15:56:52" itemprop="dateModified" datetime="2019-03-22T15:56:52-04:00">2019-03-22</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/projects/" itemprop="url" rel="index"><span itemprop="name">projects</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Have you ever wondered how to set up your Django app on a real website? This blog shows you how to easily host a Django web app on PythongAnywhere for free.</p>
<a id="more"></a>
<h1 id="Create-account"><a href="#Create-account" class="headerlink" title="Create account"></a>Create account</h1><p>Go to <a href="http://www.pythonanywhere.com" target="_blank" rel="noopener">www.pythonanywhere.com</a> and create an account. The website supports both free tier and paid plans. The free tier plan gives you one web app at your-username.pythonanywhere.com. (For me and for the context of this tutorial, it will be bolunzhang.pythonanywhere.com.) The web app will be disabled if there is no activity for 3 months. (As long as you are clicking the button to indicate an active usage every 3 month, the web app will keep running.)</p>
<h1 id="Create-PythonAnywhere-web-app"><a href="#Create-PythonAnywhere-web-app" class="headerlink" title="Create PythonAnywhere web app"></a>Create PythonAnywhere web app</h1><p>Go to the <strong>Web</strong> tab on PythonAnywhere, and select <strong>Add a new web app</strong>. Now a popup will come up to ask you to upgrade your plan; otherwise, a free tier web app can only be host at your-username.pythonanywhere.com instead of a customized domain.</p>
<p>Next, it asks you to <strong>Select a Python Web framework</strong>. Please select <strong>&gt;&gt;Manual configuration (including virtualenvs)</strong> instead of the <strong>Django</strong> option. This one gives you more options and flexibility. Lastly, you need to select a Python version to work with.</p>
<h1 id="Configure-web-app"><a href="#Configure-web-app" class="headerlink" title="Configure web app"></a>Configure web app</h1><p>As soon as you finish all those popup prompts above, you come to this page which says <strong>Configuration for your-username.pythonanywhere.com</strong>. (For me it is <strong>Configuration for bolunzhang.pythonanywhere.com</strong>) Here we need to make some configuration changes to make the site linked with the code.</p>
<h2 id="Default-page"><a href="#Default-page" class="headerlink" title="Default page"></a>Default page</h2><p>Before we actually make any change to the configurations, if we go to the url your-username.pythonanywhere.com, we can already see a default page showing up like the following:</p>
<img src="/assets/pythonanywhere-default.JPG" class="[class names]" title="[530] [211] [PythonAnywhere welcome page]">
<p>We will soon discuss where this default page is coming from.</p>
<h2 id="Code-and-virtualenv-optional"><a href="#Code-and-virtualenv-optional" class="headerlink" title="Code and virtualenv (optional)"></a>Code and virtualenv (optional)</h2><p>Under <strong>Code</strong> section, there is a <strong>Source code</strong> field which says <em>Enter the path to your web app source code</em>. Here you want to put the path to your source code. For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Source code: /home/bolunzhang/hello_world/</span><br></pre></td></tr></table></figure>
<p>Similarly, under <strong>Virtualenv</strong> section, you want to specify the path to the virtualenv that you are using:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/bolunzhang/hello_world/venv</span><br></pre></td></tr></table></figure>
<p>This part is optional, because based on my testing the entire website works fine even if these two fields are left untouched. I’m not entirely sure about the effect of these two fields at this point.</p>
<h2 id="WSGI-configuration-file"><a href="#WSGI-configuration-file" class="headerlink" title="WSGI configuration file"></a>WSGI configuration file</h2><p>Under <strong>Code</strong> section, there is another very important field <strong>WSGI configuration file</strong>. This WSGI file is pretty much the same as the WSGI file that Django provides when a new project is created. The only thing that need to be pay attention to is that this file is at a very different location from the rest of the sources. You will have to soon modify this file to use the WSGI file that Django generates.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WSGI configuration file: /var/www/bolunzhang_pythonanywhere_com_wsgi.py</span><br></pre></td></tr></table></figure>
<h2 id="log-files"><a href="#log-files" class="headerlink" title="log files"></a>log files</h2><p>PythonAnywhere provides three log files by default. They are very helpful in terms of debugging.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Access log: bolunzhang.pythonanywhere.com.access.log</span><br><span class="line"> Error log: bolunzhang.pythonanywhere.com.error.log</span><br><span class="line">Server log: bolunzhang.pythonanywhere.com.server.log</span><br></pre></td></tr></table></figure>
<h1 id="Initialize-virtualenv-and-install-Django"><a href="#Initialize-virtualenv-and-install-Django" class="headerlink" title="Initialize virtualenv and install Django"></a>Initialize virtualenv and install Django</h1><p>Go to the <strong>Console</strong> tab, and here you can start a new console. You will find yourself landed in a home directory with a README file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">06:00 ~ $ ls</span><br><span class="line">README.txt</span><br><span class="line">06:00 ~ $ <span class="built_in">pwd</span></span><br><span class="line">/home/bolunzhang</span><br></pre></td></tr></table></figure>
<p>Since there is only one web app for free tier user, let’s try to reuse this same cloud space for different apps. Therefore, let’s create a subdirectory to work on each application:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">06:02 ~ $ mkdir hello_world</span><br><span class="line">06:03 ~ $ <span class="built_in">cd</span> hello_world/</span><br></pre></td></tr></table></figure>
<p>Create a virtual environment:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">06:04 ~/hello_world $ python3 -m venv myvenv</span><br><span class="line">06:04 ~/hello_world $ ls</span><br><span class="line">myvenv</span><br><span class="line">06:05 ~/hello_world $ <span class="built_in">source</span> myvenv/bin/activate</span><br><span class="line">(myvenv) 06:05 ~/hello_world $</span><br></pre></td></tr></table></figure>
<p>Install Django inside this virtual environment. This process may take a little while. After a successful installation, you may see something like this: (Verify the Django version with <code>django-admin --version</code>.)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(myvenv) 06:05 ~/hello_world $ pip3 install django</span><br><span class="line">Looking <span class="keyword">in</span> links: /usr/share/pip-wheels</span><br><span class="line">Collecting django</span><br><span class="line">  Using cached https://files.pythonhosted.org/packages/fd/9a/0c028ea0fe4f5803dda1a7afabeed958d0c8b79b0fe762ffbf728db3b90d/Django-2.1.4-py3-none-any.whl</span><br><span class="line">Collecting pytz (from django)</span><br><span class="line">  Using cached https://files.pythonhosted.org/packages/f8/0e/2365ddc010afb3d79147f1dd544e5ee24bf4ece58ab99b16fbb465ce6dc0/pytz-2018.7-py2.py3-none-any.whl</span><br><span class="line">Installing collected packages: pytz, django</span><br><span class="line">Successfully installed django-2.1.4 pytz-2018.7 </span><br><span class="line">(myvenv) 06:14 ~/hello_world $ django-admin --version</span><br><span class="line">2.1.4</span><br></pre></td></tr></table></figure>
<h1 id="Initialize-Django-site"><a href="#Initialize-Django-site" class="headerlink" title="Initialize Django site"></a>Initialize Django site</h1><p>Now that we have Django successfully installed, let’s initialize the project:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(myvenv) 06:15 ~/hello_world $ django-admin startproject mysite .</span><br><span class="line">(myvenv) 06:17 ~/hello_world $ ls</span><br><span class="line">manage.py  mysite  myvenv</span><br></pre></td></tr></table></figure>
<p>Now, the project directory structure should look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hello_world</span><br><span class="line">├───(myvenv)</span><br><span class="line">├───manage.py</span><br><span class="line">└───mysite</span><br><span class="line">      ├───settings.py</span><br><span class="line">      ├───urls.py</span><br><span class="line">      ├───wsgi.py</span><br><span class="line">      └───__init__.py</span><br></pre></td></tr></table></figure>
<h1 id="Revisit-WSGI-configuration-file"><a href="#Revisit-WSGI-configuration-file" class="headerlink" title="Revisit WSGI configuration file"></a>Revisit WSGI configuration file</h1><h2 id="Understand-the-template"><a href="#Understand-the-template" class="headerlink" title="Understand the template"></a>Understand the template</h2><p>Before we start any work, let’s go to your-username.pythonanywhere.com and see how our barebone website looks like. Surprisingly, it still shows the default page that we saw before. Now as an experienced software engineer, your guts tells you something is not right - the default page doesn’t seem to come from our project source at all. </p>
<p>You are totally correct. The default page comes from the WSGI file, not the WSGI file that Django generates under <code>mysite/</code> but the one specifically provided by PythonAnywhere in the <strong>WSGI configuration file</strong> field. Here is the part that renders the default page:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># +++++++++++ HELLO WORLD +++++++++++</span></span><br><span class="line"><span class="comment"># A little pure-wsgi hello world we've cooked up, just</span></span><br><span class="line"><span class="comment"># to prove everything works.  You should delete this</span></span><br><span class="line"><span class="comment"># code to get your own working.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HELLO_WORLD = <span class="string">"""&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">    &lt;title&gt;Python Anywhere hosted web application&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;h1&gt;Hello, World!&lt;/h1&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;</span></span><br><span class="line"><span class="string">    This is the default welcome page for a</span></span><br><span class="line"><span class="string">    &lt;a href="https://www.pythonanywhere.com/"&gt;PythonAnywhere&lt;/a&gt;</span></span><br><span class="line"><span class="string">    hosted web application.</span></span><br><span class="line"><span class="string">&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;</span></span><br><span class="line"><span class="string">    Find out more about how to configure your own web application</span></span><br><span class="line"><span class="string">    by visiting the &lt;a href="https://www.pythonanywhere.com/web_app_setup/"&gt;web app setup&lt;/a&gt; page</span></span><br><span class="line"><span class="string">&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;"""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">application</span><span class="params">(environ, start_response)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> environ.get(<span class="string">'PATH_INFO'</span>) == <span class="string">'/'</span>:</span><br><span class="line">        status = <span class="string">'200 OK'</span></span><br><span class="line">        content = HELLO_WORLD</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        status = <span class="string">'404 NOT FOUND'</span></span><br><span class="line">        content = <span class="string">'Page not found.'</span></span><br><span class="line">    response_headers = [(<span class="string">'Content-Type'</span>, <span class="string">'text/html'</span>), (<span class="string">'Content-Length'</span>, str(len(content)))]</span><br><span class="line">    start_response(status, response_headers)</span><br><span class="line">    <span class="keyword">yield</span> content.encode(<span class="string">'utf8'</span>)</span><br></pre></td></tr></table></figure>
<p>More than just showing a default page, the WSGI file is the gateway for your-username.pythonanywhere.com. It is the first thing that a request reaches.</p>
<blockquote><p>The Web Server Gateway Interface (WSGI) is a simple calling convention for web servers to forward requests to web applications or frameworks written in the Python programming language.</p>
<footer><strong>Wikipedia</strong><cite><a href="https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface" target="_blank" rel="noopener">Web Server Gateway Interface (WSGI)</a></cite></footer></blockquote>
<p>&nbsp;<br>An easy way to think about WSGI is that it acts like a dispatcher that dispatches web requests to the specific web apps. Since it can be a dispatcher to multiple web apps, it is agnostic to the web framework being used by each web app. As a matter of fact, there is also a Flask part in ths WSGI file provided, which is initially be commented out also:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># +++++++++++ FLASK +++++++++++</span></span><br><span class="line"><span class="comment"># Flask works like any other WSGI-compatible framework, we just need</span></span><br><span class="line"><span class="comment"># to import the application.  Often Flask apps are called "app" so we</span></span><br><span class="line"><span class="comment"># may need to rename it during the import:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#import sys</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">## The "/home/bolunzhang" below specifies your home</span></span><br><span class="line"><span class="comment">## directory -- the rest should be the directory you uploaded your Flask</span></span><br><span class="line"><span class="comment">## code to underneath the home directory.  So if you just ran</span></span><br><span class="line"><span class="comment">## "git clone git@github.com/myusername/myproject.git"</span></span><br><span class="line"><span class="comment">## ...or uploaded files to the directory "myproject", then you should</span></span><br><span class="line"><span class="comment">## specify "/home/bolunzhang/myproject"</span></span><br><span class="line"><span class="comment">#path = '/home/bolunzhang/path/to/flask_app_directory'</span></span><br><span class="line"><span class="comment">#if path not in sys.path:</span></span><br><span class="line"><span class="comment">#    sys.path.append(path)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#from main_flask_app_file import app as application  # noqa</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># NB -- many Flask guides suggest you use a file called run.py; that's</span></span><br><span class="line"><span class="comment"># not necessary on PythonAnywhere.  And you should make sure your code</span></span><br><span class="line"><span class="comment"># does *not* invoke the flask development server with app.run(), as it</span></span><br><span class="line"><span class="comment"># will prevent your wsgi file from working.</span></span><br></pre></td></tr></table></figure>
<h2 id="Modify-the-template"><a href="#Modify-the-template" class="headerlink" title="Modify the template"></a>Modify the template</h2><p>Now that we have some knowledge on WSGI, let modify it so that your-username.pythonanywhere.com shows our Django website instead of the default page.</p>
<p>First of all, remove all the unncessary templates. This includes the <code>HELLO WORLD</code> page part and the <code>FLASK</code> part. Any other part that is not related to Django can be removed also.</p>
<p>Now, the template should look similar to this:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># +++++++++++ CUSTOM WSGI +++++++++++</span></span><br><span class="line"><span class="comment"># If you have a WSGI file that you want to serve using PythonAnywhere, perhaps</span></span><br><span class="line"><span class="comment"># in your home directory under version control, then use something like this:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#import sys</span></span><br><span class="line"><span class="comment">#path = '/home/bolunzhang/path/to/my/app</span></span><br><span class="line"><span class="comment">#if path not in sys.path:</span></span><br><span class="line"><span class="comment">#    sys.path.append(path)</span></span><br><span class="line"><span class="comment">#from my_wsgi_file import application  # noqa</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># +++++++++++ DJANGO +++++++++++</span></span><br><span class="line"><span class="comment"># To use your own django app use code like this:</span></span><br><span class="line"><span class="comment">#import os</span></span><br><span class="line"><span class="comment">#import sys</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">## assuming your django settings file is at '/home/bolunzhang/mysite/mysite/settings.py'</span></span><br><span class="line"><span class="comment">## and your manage.py is is at '/home/bolunzhang/mysite/manage.py'</span></span><br><span class="line"><span class="comment">#path = '/home/bolunzhang/mysite'</span></span><br><span class="line"><span class="comment">#if path not in sys.path:</span></span><br><span class="line"><span class="comment">#    sys.path.append(path)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#os.environ['DJANGO_SETTINGS_MODULE'] = 'mysite.settings'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">## then:</span></span><br><span class="line"><span class="comment">#from django.core.wsgi import get_wsgi_application</span></span><br><span class="line"><span class="comment">#application = get_wsgi_application()</span></span><br></pre></td></tr></table></figure>
<p>Let’s uncomment most of the code here, keeping in mind that <code>path</code> and <code>my_wsgi_file</code> be replaced with the real path and the real wsgi filename. Here is how it looks after modification:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># +++++++++++ CUSTOM WSGI +++++++++++</span></span><br><span class="line">path_project_dir = <span class="string">'/home/bolunzhang/hello_world'</span>  <span class="comment"># for 'mysite.settings' below</span></span><br><span class="line">path_project_mysite = path_project_dir + <span class="string">'/mysite'</span> <span class="comment"># for wsgi file</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> path_project_dir <span class="keyword">not</span> <span class="keyword">in</span> sys.path:</span><br><span class="line">    sys.path.append(path_project_dir)</span><br><span class="line"><span class="keyword">if</span> path_project_mysite <span class="keyword">not</span> <span class="keyword">in</span> sys.path:</span><br><span class="line">    sys.path.append(path_project_mysite)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> wsgi <span class="keyword">import</span> application <span class="comment"># wsgi file that Django generated under hello_world/mysite/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># +++++++++++ DJANGO +++++++++++</span></span><br><span class="line"><span class="comment"># no longer needed - this part of code is imported from hello_world/mysite/wsgi.py</span></span><br></pre></td></tr></table></figure>
<h1 id="Add-allowed-host"><a href="#Add-allowed-host" class="headerlink" title="Add allowed host"></a>Add allowed host</h1><p>If we just go to the link <strong>your-username.pythonanywhere.com</strong> now, we will see the following error. It means we need to add the url to the Django site settings’ allowed hosts. This is due to some security reasons.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DisallowedHost at /</span><br><span class="line">Invalid HTTP_HOST header: &apos;bolunzhang.pythonanywhere.com&apos;. You may need to add &apos;bolunzhang.pythonanywhere.com&apos; to ALLOWED_HOSTS.</span><br></pre></td></tr></table></figure>
<p>Go to <code>/home/bolunzhang/hello_world/mysite/settings.py</code> and change the line <code>ALLOWED_HOSTS = [&#39;&#39;]</code> to <code>ALLOWED_HOSTS = [&#39;your-username.pythonanywhere.com&#39;]</code> (bolunzhang.pythonwhere.com for me)</p>
<p>Now go back to <strong>Configuration</strong> page, and click on the <strong>Reload your-username.pythonanywhere.com</strong> button. Go to <code>your-username.pythonanywhere.com</code> after reloading. Now you should see the Django welcome page:</p>
<img src="/assets/django-default.png" class="[class names]" title="[1366] [768] [Django welcome page]">
<p>At this point, our barebone Django project is already up and running on a real web server provided by PythonAnywhere.</p>
<h1 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h1><p>Now that we already have the Django project (website) ready, let’s create a Django web app within this project to display a hello world message. Keep in mind, a Django project is a website, whereas a Django web app is a specific module within the entire website. One website can have, and very commonly will have multiple web apps. *(This is different from the ‘PythonAnywhere web app’ term. When we say we are creating a ‘PythonAnywhere web app’, it simply refers to a website.)</p>
<h2 id="Create-helloworld-Django-web-app"><a href="#Create-helloworld-Django-web-app" class="headerlink" title="Create helloworld Django web app"></a>Create helloworld Django web app</h2><p>It is amazing that we finally come to this last step - create a Django web app within the project. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(myvenv) 02:10 ~/hello_world $ python3 manage.py startapp helloworld</span><br><span class="line">(myvenv) 02:11 ~/hello_world $ ls</span><br><span class="line">db.sqlite3  helloworld  manage.py  mysite  myvenv</span><br></pre></td></tr></table></figure>
<p>Now, the project directory structure should look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hello_world</span><br><span class="line">├───(myvenv)</span><br><span class="line">├───db.sqlite3</span><br><span class="line">├───manage.py</span><br><span class="line">├───mysite</span><br><span class="line">│   ├───__init__.py</span><br><span class="line">│   ├───settings.py</span><br><span class="line">│   ├───urls.py</span><br><span class="line">│   ├───wsgi.py</span><br><span class="line">└───helloworld</span><br><span class="line">    ├───__init__.py</span><br><span class="line">    ├───admin.py</span><br><span class="line">    ├───apps.py</span><br><span class="line">    ├───migrations</span><br><span class="line">    │   └───__init__.py</span><br><span class="line">    ├───models.py</span><br><span class="line">    ├───tests.py</span><br><span class="line">    └───views.py</span><br></pre></td></tr></table></figure>
<h2 id="Add-app-to-site-settings"><a href="#Add-app-to-site-settings" class="headerlink" title="Add app to site settings"></a>Add app to site settings</h2><p>Tell Django that this <code>helloworld</code> app is being used by this website by specifying in <code>mysite/settings.py</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'helloworld'</span> <span class="comment"># add this line so the Django knows 'helloworld' web app is being used by the website</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-URL-routing"><a href="#Create-URL-routing" class="headerlink" title="Create URL routing"></a>Create URL routing</h2><p>Let’s examine the <code>hello_world/mysite/urls.py</code> file first:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""mysite URL Configuration</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">The `urlpatterns` list routes URLs to views. For more information please see:</span></span><br><span class="line"><span class="string">    https://docs.djangoproject.com/en/2.1/topics/http/urls/</span></span><br><span class="line"><span class="string">Examples:</span></span><br><span class="line"><span class="string">Function views</span></span><br><span class="line"><span class="string">    1. Add an import:  from my_app import views</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path('', views.home, name='home')</span></span><br><span class="line"><span class="string">Class-based views</span></span><br><span class="line"><span class="string">    1. Add an import:  from other_app.views import Home</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')</span></span><br><span class="line"><span class="string">Including another URLconf</span></span><br><span class="line"><span class="string">    1. Import the include() function: from django.urls import include, path</span></span><br><span class="line"><span class="string">    2. Add a URL to urlpatterns:  path('blog/', include('blog.urls'))</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>This file basically defines the url routing for our entire website. For example, there is an <code>admin/</code> entry. That means any url path that starts with <code>admin/</code> will be mapped to <code>admin.site.urls</code>, which is another URLconf file, to take care of. Of course, there are more documentations about how urls are directed.</p>
<blockquote><p>To design URLs for an app, you create a Python module informally called a URLconf (URL configuration). This module is pure Python code and is a mapping between URL path expressions to Python functions (your views).</p>
<footer><strong>Django</strong><cite><a href="https://docs.djangoproject.com/en/2.1/topics/http/urls/" target="_blank" rel="noopener">URL dispatcher</a></cite></footer></blockquote>
<p>&nbsp;<br>Let’s map the url <code>your-username.pythonanywhere.com/helloworld</code> to a view called <code>hwindex</code> (hellow world index page). You might be wondering what is and where is this <code>hwindex</code>. Don’t worry - this is essentially a Python function that we define and we are going to implement it soon.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> helloworld <span class="keyword">import</span> views <span class="comment"># added line to use hwindex</span></span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">'helloworld/'</span>, views.hwindex, name=<span class="string">'hwindex'</span>) <span class="comment"># added line to route to hwindex</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="Create-hwindex-view"><a href="#Create-hwindex-view" class="headerlink" title="Create hwindex view"></a>Create hwindex view</h2><blockquote><p>A view function, or view for short, is simply a Python function that takes a Web request and returns a Web response. This response can be the HTML contents of a Web page, or a redirect, or a 404 error, or an XML document, or an image . . . or anything, really. The view itself contains whatever arbitrary logic is necessary to return that response. This code can live anywhere you want, as long as it’s on your Python path. There’s no other requirement–no “magic,” so to speak. For the sake of putting the code somewhere, the convention is to put views in a file called views.py, placed in your project or application directory.</p>
<footer><strong>Django</strong><cite><a href="https://docs.djangoproject.com/en/2.1/topics/http/urls/" target="_blank" rel="noopener">Writing views</a></cite></footer></blockquote>
<p>&nbsp;<br>The official Django documentation already makes it very clearly. A view is basically a Python function that handles http request. Let’s make change to <code>helloworld/views.py</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hwindex</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"Hello world from Django on PythonAnywhere!"</span>)</span><br></pre></td></tr></table></figure>
<p>Save the file, click the reload button, and go to your-username.pythonanywhere.com/helloworld. It shows on the page the response generated by <code>hwindex</code> view!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello world from Django on PythonAnywhere!</span><br></pre></td></tr></table></figure>
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/front-end/" rel="tag"># front end</a>
          
            <a href="/tags/web/" rel="tag"># web</a>
          
            <a href="/tags/django/" rel="tag"># django</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/11/08/notes-on-lru-implementation/" rel="next" title="Notes on LRU implementation">
                <i class="fa fa-chevron-left"></i> Notes on LRU implementation
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/08/a-beginners-notes-on-http/" rel="prev" title="A beginner's notes on HTTP">
                A beginner's notes on HTTP <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/assets/avatar.jpg" alt="Bolun Zhang">
            
              <p class="site-author-name" itemprop="name">Bolun Zhang</p>
              <p class="site-description motion-element" itemprop="description">Life is like a box of chalk - most time it is colorful, sometimes it leaves you black and blue.</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/balloonio" target="_blank" title="GitHub"><i class="fa fa-fw fa-github-alt"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:rzhangbolun@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-at"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.linkedin.com/in/bolun-zhang-io" target="_blank" title="LinkedIn"><i class="fa fa-fw fa-linkedin"></i></a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://instagram.com/bolooon" target="_blank" title="Instagram"><i class="fa fa-fw fa-instagram"></i></a>
                  
                </span>
              
            </div>
          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Create-account"><span class="nav-number">1.</span> <span class="nav-text">Create account</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Create-PythonAnywhere-web-app"><span class="nav-number">2.</span> <span class="nav-text">Create PythonAnywhere web app</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Configure-web-app"><span class="nav-number">3.</span> <span class="nav-text">Configure web app</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Default-page"><span class="nav-number">3.1.</span> <span class="nav-text">Default page</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Code-and-virtualenv-optional"><span class="nav-number">3.2.</span> <span class="nav-text">Code and virtualenv (optional)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WSGI-configuration-file"><span class="nav-number">3.3.</span> <span class="nav-text">WSGI configuration file</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#log-files"><span class="nav-number">3.4.</span> <span class="nav-text">log files</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Initialize-virtualenv-and-install-Django"><span class="nav-number">4.</span> <span class="nav-text">Initialize virtualenv and install Django</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Initialize-Django-site"><span class="nav-number">5.</span> <span class="nav-text">Initialize Django site</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Revisit-WSGI-configuration-file"><span class="nav-number">6.</span> <span class="nav-text">Revisit WSGI configuration file</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Understand-the-template"><span class="nav-number">6.1.</span> <span class="nav-text">Understand the template</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Modify-the-template"><span class="nav-number">6.2.</span> <span class="nav-text">Modify the template</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Add-allowed-host"><span class="nav-number">7.</span> <span class="nav-text">Add allowed host</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hello-world"><span class="nav-number">8.</span> <span class="nav-text">Hello world</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Create-helloworld-Django-web-app"><span class="nav-number">8.1.</span> <span class="nav-text">Create helloworld Django web app</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Add-app-to-site-settings"><span class="nav-number">8.2.</span> <span class="nav-text">Add app to site settings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Create-URL-routing"><span class="nav-number">8.3.</span> <span class="nav-text">Create URL routing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Create-hwindex-view"><span class="nav-number">8.4.</span> <span class="nav-text">Create hwindex view</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bolun Zhang</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Mist</a> v6.4.2</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
          if(result)$(this).text('Copied')
          else $(this).text('Copy failed')
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('Copy')
        }, 300)
      }).append(e)
    })
  </script>


  
  
</body>
</html>
